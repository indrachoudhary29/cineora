<!DOCTYPE html>
<html>
<head>
    <title>Cineora | My Tickets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #09090b; color: white; font-family: 'Plus Jakarta Sans', sans-serif; }
        .ticket-card {
            background: #111114;
            border-left: 5px solid #00f2ff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .movie-thumb { width: 90px; height: 120px; object-fit: cover; border-radius: 10px; }
        .text-info-neon { color: #00f2ff; }
    </style>
</head>
<body>
<div class="container py-5" style="max-width: 800px;">
    <div class="d-flex justify-content-between align-items-center mb-5">
        <h2 class="fw-bold">MY <span class="text-info-neon">TICKETS</span></h2>
        <a href="/" class="btn btn-outline-light btn-sm rounded-pill px-3">Dashboard</a>
    </div>

    {% if bookings %}
        {% for b in bookings %}
        <div class="ticket-card">
            <img src="{{ url_for('static', filename='images/' + b.image_url) }}" class="movie-thumb" alt="Poster">
            
            <div class="flex-grow-1">
                <h4 class="fw-bold mb-1">{{ b.title }}</h4>
                <p class="text-secondary mb-1">
                    <i class="fa-solid fa-chair me-2"></i>Seats: <span class="text-info-neon">{{ b.seats_selected }}</span>
                </p>
                <small class="text-muted">Transaction #CNE-{{ b.id }} | {{ b.booking_date }}</small>
            </div>
            
            <div class="text-end">
                <div class="h3 mb-0 text-info-neon">${{ b.total_price }}</div>
                <span class="badge bg-success rounded-pill px-3">CONFIRMED</span>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="text-center py-5" style="border: 1px dashed #333; border-radius: 20px;">
            <i class="fa-solid fa-ticket-fade fa-3x text-secondary mb-3"></i>
            <h4 class="text-secondary">No tickets found.</h4>
            <p class="text-muted">Go to the dashboard to start your journey.</p>
            <a href="/" class="btn btn-info mt-2 rounded-pill px-4 fw-bold">Book Now</a>
        </div>
    {% endif %}
</div>
</body>
</html>